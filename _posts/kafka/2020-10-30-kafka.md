---
layout: post
title: "Kafka 工作原理"
date: 2020-10-30
categories: Kafka
author: Maxwell-L
---

### **Apache Kafka**
官方文档介绍，Kafka 是一个分布式的流平台。实际项目中常用作消息队列。消息队列使用的好处：
* 可以使业务解耦，上下游模块无需关心对方的逻辑实现，若未来有新的需求需要消息时无需改动原有模块内容，仅需建立新消费者组进行消息的消费即可
* 可以实现流量的削峰填谷，实际项目中由于上下游逻辑的复杂度不同，上游服务生产消息的速度可能远大于下游服务消费消息的速度，如果上游服务在短时间内产生大量消息，下游服务很可能因为来不及处理而被压垮，引入消息队列则可以使激增的消息暂存在消费队列中，下游服务根据情况进行消息的消费  

![图片加载失败](https://maxwell-blog.cn/image/kafka1.png)

如官方文档的示意图所示，Kafka有四个核心部分：
* **Producer** 负责生产消息发送给 Kafka 集群
* **Consumer** 从 Kafka 集群中拉取消息进行消费
* **Connector** 可以用来监听关系型数据库的更新，也可以将数据同步到其它的数据库
* **Stream** 可以用来处理 Kafka 消息并发送到其它的 topic

对于消息队列而言，常用的就是 **Producer** 和 **Consumer** 这两个部分

![图片加载失败](https://maxwell-blog.cn/image/kafka2.png)
